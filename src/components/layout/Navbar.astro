---
import Button from "../ui/Button.astro";
import { SquareTerminal, Menu, X } from "@lucide/astro/icons";
---

<nav class="w-full flex justify-between items-center py-6 px-6 lg:px-10 fixed top-0 left-0 z-50 bg-transparent backdrop-blur-sm border-b border-neon-cyan/20">
  <a href="#home" class="text-logo flex gap-2 items-center">
    <SquareTerminal class="bg-bg-burgundy p-1 rounded-sm" size={34} />
    <span class="hidden sm:inline">Stephanie_M_</span>
    <span class="sm:hidden">SM_</span>
  </a>
  <ul class="text-body-bold hidden lg:flex flex-1 justify-center gap-8 text-text-primary">
    <li><a href="#home" class="hover:text-neon-cyan transition" data-nav-home>Home</a></li>
    <li><a href="#about" class="hover:text-neon-cyan transition">About</a></li>
    <li><a href="#experience" class="hover:text-neon-cyan transition">Experience</a></li>
    <li><a href="#projects" class="hover:text-neon-cyan transition">Projects</a></li>
    <li><a href="#contact" class="hover:text-neon-cyan transition">Contact</a></li>
  </ul>
  <div class="hidden lg:block">
    <Button link={{href: "https://drive.google.com/file/d/1qtbgWpBOAzykViVQFkrnxlPRgE2wRdHE/view?usp=sharing", target: "_blank"}}>Resume</Button>
  </div>
  <button id="mobileMenuBtn" class="lg:hidden text-neon-cyan" aria-label="Toggle menu">
    <Menu id="menuIcon" size={28} />
    <X id="closeIcon" size={28} class="hidden" />
  </button>
</nav>
<div id="mobileMenu" class="fixed top-22 left-0 w-full bg-bg-dark/95 backdrop-blur-sm border-b border-neon-cyan/20 z-40 hidden lg:hidden">
  <ul class="text-body-bold flex flex-col items-center gap-6 py-8 text-text-primary">
    <li><a href="#home" class="hover:text-neon-cyan transition mobile-nav-link">Home</a></li>
    <li><a href="#about" class="hover:text-neon-cyan transition mobile-nav-link">About</a></li>
    <li><a href="#experience" class="hover:text-neon-cyan transition mobile-nav-link">Experience</a></li>
    <li><a href="#projects" class="hover:text-neon-cyan transition mobile-nav-link">Projects</a></li>
    <li><a href="#contact" class="hover:text-neon-cyan transition mobile-nav-link">Contact</a></li>
    <li class="pt-4">
      <Button link={{href: "/resume.pdf", target: "_blank"}}>Resume</Button>
    </li>
  </ul>
</div>

<script>
  const mobileMenuBtn = document.getElementById("mobileMenuBtn");
  const mobileMenu = document.getElementById("mobileMenu");
  const menuIcon = document.getElementById("menuIcon");
  const closeIcon = document.getElementById("closeIcon");
  const mobileNavLinks = document.querySelectorAll(".mobile-nav-link");

  mobileMenuBtn?.addEventListener("click", () => {
    mobileMenu?.classList.toggle("hidden");
    menuIcon?.classList.toggle("hidden");
    closeIcon?.classList.toggle("hidden");
  });
  mobileNavLinks.forEach(link => {
    link.addEventListener("click", () => {
      mobileMenu?.classList.add("hidden");
      menuIcon?.classList.remove("hidden");
      closeIcon?.classList.add("hidden");
    });
  });
</script>